var ut=Object.defineProperty,dt=Object.defineProperties;var rt=Object.getOwnPropertyDescriptors;var et=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable;var st=(v,i,o)=>i in v?ut(v,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[i]=o,V=(v,i)=>{for(var o in i||(i={}))ct.call(i,o)&&st(v,o,i[o]);if(et)for(var o of et(i))_t.call(i,o)&&st(v,o,i[o]);return v},Z=(v,i)=>dt(v,rt(i));import{c as k,m as J,f as pt,j as gt,o as yt,p as ft,g as vt,i as bt}from"./main.1c5aa925.js";import{g as Y,i as h,k as U,D as St,G as at,a9 as $t,r as c,o as $,c as D,t as _,x as b,b as t,w as d,B as O,z as G,v as E,F as q,H as Bt,s as N,y as s,A,am as M,j as T,m as K,aU as nt,aV as it,q as ot,a0 as H}from"./vendor.060aaec3.js";import{D as zt,d as ht}from"./DragIcon.aece8a77.js";import{_ as Vt}from"./ItemUnitModal.31081b09.js";const It={class:"text-gray-900 text-lg font-medium"},xt={class:"mt-1 text-sm text-gray-500"},wt={class:"overflow-x-auto"},Ct={class:"w-full mt-6 table-fixed"},Dt=_("colgroup",null,[_("col",{style:{width:"4%"}}),_("col",{style:{width:"45%"}}),_("col",{style:{width:"27%"}}),_("col",{style:{width:"24%"}})],-1),Ut=_("thead",null,[_("tr",null,[_("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}),_("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}," Component "),_("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"}," Parameter "),_("th",{class:"px-5 py-3 text-sm not-italic font-medium leading-5 text-left text-gray-700 border-t border-b border-gray-200 border-solid"})])],-1),Ft={class:"relative"},kt={class:"text-gray-300 cursor-move handle align-middle"},Et={class:"px-5 py-4"},Nt={class:"block text-sm not-italic font-medium text-primary-800 whitespace-nowrap mr-2 min-w-[200px]"},Mt={class:"text-xs text-gray-500 mt-1"},Tt={class:"px-5 py-4 text-left align-middle"},Gt={class:"px-5 py-4 text-right align-middle pt-10"},qt=E(" Remove "),Rt={colspan:"2",class:"px-5 py-4"},At={class:"px-5 py-4 text-right align-middle",colspan:"2"},tt={props:{type:{type:String,required:!0},typeStore:{type:Object,required:!0},defaultSeries:{type:String,default:"INV"}},setup(v){const i=v,{t:o}=Y(),p=k(),y=J(),u=h([]),a=h(!1),m=h([{label:o("settings.customization.series"),description:o("settings.customization.series_description"),name:"SERIES",paramLabel:o("settings.customization.series_param_label"),value:i.defaultSeries,inputDisabled:!1,inputType:"text",allowMultiple:!1},{label:o("settings.customization.sequence"),description:o("settings.customization.sequence_description"),name:"SEQUENCE",paramLabel:o("settings.customization.sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1},{label:o("settings.customization.delimiter"),description:o("settings.customization.delimiter_description"),name:"DELIMITER",paramLabel:o("settings.customization.delimiter_param_label"),value:"-",inputDisabled:!1,inputType:"text",allowMultiple:!0},{label:o("settings.customization.customer_series"),description:o("settings.customization.customer_series_description"),name:"CUSTOMER_SERIES",paramLabel:"",value:"",inputDisabled:!0,inputType:"text",allowMultiple:!1},{label:o("settings.customization.customer_sequence"),description:o("settings.customization.customer_sequence_description"),name:"CUSTOMER_SEQUENCE",paramLabel:o("settings.customization.customer_sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1},{label:o("settings.customization.date_format"),description:o("settings.customization.date_format_description"),name:"DATE_FORMAT",paramLabel:o("settings.customization.date_format_param_label"),value:"Y",inputDisabled:!1,inputType:"text",allowMultiple:!0},{label:o("settings.customization.random_sequence"),description:o("settings.customization.random_sequence_description"),name:"RANDOM_SEQUENCE",paramLabel:o("settings.customization.random_sequence_param_label"),value:"6",inputDisabled:!1,inputType:"number",allowMultiple:!1}]),e=U(()=>m.value.filter(function(f){return!u.value.some(function(I){return f.allowMultiple?!1:f.name==I.name})})),r=h(""),n=h(!1),l=h(!1),g=U(()=>{let f="";return u.value.forEach(I=>{let R=`{{${I.name}`;I.value&&(R+=`:${I.value}`),f+=`${R}}}`}),f});St(u,f=>{F()}),B();async function B(){let f={format:p.selectedCompanySettings[`${i.type}_number_format`]};l.value=!0,(await y.fetchPlaceholders(f)).data.placeholders.forEach(R=>{var P;let X=m.value.find(W=>W.name===R.name);const Q=(P=R.value)!=null?P:"";u.value.push(Z(V({},X),{value:Q,id:at.raw()}))}),l.value=!1,F()}function C(f){return u.value.find(I=>I.name===f.name)}function z(f){C(f)&&!f.allowMultiple||(u.value.push(Z(V({},f),{id:at.raw()})),F())}function S(f){u.value=u.value.filter(function(I){return f.id!==I.id})}function w(f,I){switch(I.name){case"SERIES":f.length>=4&&(f=f.substring(0,4));break;case"DELIMITER":f.length>=1&&(f=f.substring(0,1));break}setTimeout(()=>{I.value=f,F()},100)}const F=$t(()=>{j()},500);async function j(){if(!g.value){r.value="";return}let f={key:i.type,format:g.value};n.value=!0;let I=await i.typeStore.getNextNumber(f);n.value=!1,I.data&&(r.value=I.data.nextNumber)}async function lt(){if(n.value||l.value)return;a.value=!0;let f={settings:{}};return f.settings[i.type+"_number_format"]=g.value,await p.updateCompanySettings({data:f,message:`settings.customization.${i.type}s.${i.type}_settings_updated`}),a.value=!1,!0}return(f,I)=>{const R=c("BaseInput"),X=c("BaseInputGroup"),Q=c("BaseIcon"),P=c("BaseButton"),W=c("BaseDropdownItem"),mt=c("BaseDropdown");return $(),D(q,null,[_("h6",It,b(f.$t(`settings.customization.${v.type}s.${v.type}_number_format`)),1),_("p",xt,b(f.$t(`settings.customization.${v.type}s.${v.type}_number_format_description`)),1),_("div",wt,[_("table",Ct,[Dt,Ut,t(s(ht),{modelValue:u.value,"onUpdate:modelValue":I[1]||(I[1]=x=>u.value=x),class:"divide-y divide-gray-200","item-key":"id",tag:"tbody",handle:".handle",filter:".ignore-element"},{item:d(({element:x})=>[_("tr",Ft,[_("td",kt,[t(zt)]),_("td",Et,[_("label",Nt,b(x.label),1),_("p",Mt,b(x.description),1)]),_("td",Tt,[t(X,{label:x.paramLabel,class:"lg:col-span-3",required:""},{default:d(()=>[t(R,{modelValue:x.value,"onUpdate:modelValue":[L=>x.value=L,L=>w(L,x)],disabled:x.inputDisabled,type:x.inputType},null,8,["modelValue","onUpdate:modelValue","disabled","type"])]),_:2},1032,["label"])]),_("td",Gt,[t(P,{variant:"white",onClick:O(L=>S(x),["prevent"])},{left:d(L=>[t(Q,{name:"XIcon",class:G(["!sm:m-0",L.class])},null,8,["class"])]),default:d(()=>[qt]),_:2},1032,["onClick"])])])]),footer:d(()=>[_("tr",null,[_("td",Rt,[t(X,{label:f.$t(`settings.customization.${v.type}s.preview_${v.type}_number`)},{default:d(()=>[t(R,{modelValue:r.value,"onUpdate:modelValue":I[0]||(I[0]=x=>r.value=x),disabled:"",loading:n.value},null,8,["modelValue","loading"])]),_:1},8,["label"])]),_("td",At,[t(mt,{"wrapper-class":"flex items-center justify-end mt-5"},{activator:d(()=>[t(P,{variant:"primary-outline"},{left:d(x=>[t(Q,{class:G(x.class),name:"PlusIcon"},null,8,["class"])]),default:d(()=>[E(" "+b(f.$t("settings.customization.add_new_component")),1)]),_:1})]),default:d(()=>[($(!0),D(q,null,Bt(s(e),x=>($(),N(W,{key:x.label,onClick:O(L=>z(x),["prevent"])},{default:d(()=>[E(b(x.label),1)]),_:2},1032,["onClick"]))),128))]),_:1})])])]),_:1},8,["modelValue"])])]),t(P,{loading:a.value,disabled:a.value,variant:"primary",type:"submit",class:"mt-4",onClick:lt},{left:d(x=>[a.value?A("",!0):($(),N(Q,{key:0,class:G(x.class),name:"SaveIcon"},null,8,["class"]))]),default:d(()=>[E(" "+b(f.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],64)}}},Lt={setup(v){const i=pt();return(o,p)=>($(),N(tt,{type:"invoice","type-store":s(i),"default-series":"INV"},null,8,["type-store"]))}},Yt={class:"text-gray-900 text-lg font-medium"},Ot={class:"mt-1 text-sm text-gray-500"},Pt={setup(v){const{t:i,tm:o}=Y(),p=k(),y=J(),u=M("utils"),a=T({retrospective_edits:null});u.mergeSettings(a,V({},p.selectedCompanySettings)),U(()=>y.config.retrospective_edits.map(e=>(e.title=i(e.key),e)));async function m(){let e={settings:V({},a)};return await p.updateCompanySettings({data:e,message:"settings.customization.invoices.invoice_settings_updated"}),!0}return(e,r)=>{const n=c("BaseRadio"),l=c("BaseInputGroup");return $(),D(q,null,[_("h6",Yt,b(e.$tc("settings.customization.invoices.retrospective_edits")),1),_("p",Ot,b(e.$t("settings.customization.invoices.retrospective_edits_description")),1),t(l,{required:""},{default:d(()=>[t(n,{id:"allow",modelValue:s(a).retrospective_edits,"onUpdate:modelValue":[r[0]||(r[0]=g=>s(a).retrospective_edits=g),m],label:e.$t("settings.customization.invoices.allow"),size:"sm",name:"filter",value:"allow",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_partial_paid",modelValue:s(a).retrospective_edits,"onUpdate:modelValue":[r[1]||(r[1]=g=>s(a).retrospective_edits=g),m],label:e.$t("settings.customization.invoices.disable_on_invoice_partial_paid"),size:"sm",name:"filter",value:"disable_on_invoice_partial_paid",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_paid",modelValue:s(a).retrospective_edits,"onUpdate:modelValue":[r[2]||(r[2]=g=>s(a).retrospective_edits=g),m],label:e.$t("settings.customization.invoices.disable_on_invoice_paid"),size:"sm",name:"filter",value:"disable_on_invoice_paid",class:"my-2"},null,8,["modelValue","label"]),t(n,{id:"disable_on_invoice_sent",modelValue:s(a).retrospective_edits,"onUpdate:modelValue":[r[3]||(r[3]=g=>s(a).retrospective_edits=g),m],label:e.$t("settings.customization.invoices.disable_on_invoice_sent"),size:"sm",name:"filter",value:"disable_on_invoice_sent"},null,8,["modelValue","label"])]),_:1})],64)}}},jt={class:"text-gray-900 text-lg font-medium"},Qt={class:"mt-1 text-sm text-gray-500"},Ht={setup(v){const{t:i,tm:o}=Y(),p=k(),y=J(),u=M("utils"),a=T({defaultstatus_edits:null});u.mergeSettings(a,V({},p.selectedCompanySettings)),U(()=>y.config.defaultstatus_edits.map(e=>(e.title=i(e.key),e)));async function m(){let e={settings:V({},a)};return await p.updateCompanySettings({data:e,message:"settings.customization.invoices.invoice_settings_updated"}),!0}return(e,r)=>{const n=c("BaseRadio"),l=c("BaseInputGroup");return $(),D(q,null,[_("h6",jt,b(e.$t("settings.customization.invoices.defaultstatus")),1),_("p",Qt,b(e.$t("settings.customization.invoices.defaultstatus_description")),1),t(l,{required:""},{default:d(()=>[t(n,{id:"draft",modelValue:s(a).defaultstatus_edits,"onUpdate:modelValue":[r[0]||(r[0]=g=>s(a).defaultstatus_edits=g),m],label:e.$t("settings.customization.invoices.draft"),size:"sm",name:"filter",value:"draft",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"sent",modelValue:s(a).defaultstatus_edits,"onUpdate:modelValue":[r[1]||(r[1]=g=>s(a).defaultstatus_edits=g),m],label:e.$t("settings.customization.invoices.sent"),size:"sm",name:"filter",value:"sent",class:"mt-2"},null,8,["modelValue","label"])]),_:1})],64)}}},Xt=["onSubmit"],Jt={class:"text-gray-900 text-lg font-medium"},Kt={class:"mt-1 text-sm text-gray-500 mb-2"},Wt={class:"w-full sm:w-1/2 md:w-1/4 lg:w-1/5"},Zt={setup(v){const{t:i}=Y(),o=k(),p=M("utils");let y=h(!1);const u=T({invoice_set_due_date_automatically:null,invoice_due_date_days:null});p.mergeSettings(u,V({},o.selectedCompanySettings));const a=U({get:()=>u.invoice_set_due_date_automatically==="YES",set:async n=>{const l=n?"YES":"NO";u.invoice_set_due_date_automatically=l}}),m=U(()=>({dueDateSettings:{invoice_due_date_days:{required:K.withMessage(i("validation.required"),nt(a.value)),numeric:K.withMessage(i("validation.numbers_only"),it)}}})),e=ot(m,{dueDateSettings:u});async function r(){if(e.value.dueDateSettings.$touch(),e.value.dueDateSettings.$invalid)return!1;y.value=!0;let n={settings:V({},u)};return a.value||delete n.settings.invoice_due_date_days,await o.updateCompanySettings({data:n,message:"settings.customization.invoices.invoice_settings_updated"}),y.value=!1,!0}return(n,l)=>{const g=c("BaseSwitchSection"),B=c("BaseInput"),C=c("BaseInputGroup"),z=c("BaseIcon"),S=c("BaseButton");return $(),D("form",{onSubmit:O(r,["prevent"])},[_("h6",Jt,b(n.$t("settings.customization.invoices.due_date")),1),_("p",Kt,b(n.$t("settings.customization.invoices.due_date_description")),1),t(g,{modelValue:s(a),"onUpdate:modelValue":l[0]||(l[0]=w=>H(a)?a.value=w:null),title:n.$t("settings.customization.invoices.set_due_date_automatically"),description:n.$t("settings.customization.invoices.set_due_date_automatically_description")},null,8,["modelValue","title","description"]),s(a)?($(),N(C,{key:0,label:n.$t("settings.customization.invoices.due_date_days"),error:s(e).dueDateSettings.invoice_due_date_days.$error&&s(e).dueDateSettings.invoice_due_date_days.$errors[0].$message,class:"mt-2 mb-4"},{default:d(()=>[_("div",Wt,[t(B,{modelValue:s(u).invoice_due_date_days,"onUpdate:modelValue":l[1]||(l[1]=w=>s(u).invoice_due_date_days=w),invalid:s(e).dueDateSettings.invoice_due_date_days.$error,type:"number",onInput:l[2]||(l[2]=w=>s(e).dueDateSettings.invoice_due_date_days.$touch())},null,8,["modelValue","invalid"])])]),_:1},8,["label","error"])):A("",!0),t(S,{loading:s(y),disabled:s(y),variant:"primary",type:"submit",class:"mt-4"},{left:d(w=>[s(y)?A("",!0):($(),N(z,{key:0,class:G(w.class),name:"SaveIcon"},null,8,["class"]))]),default:d(()=>[E(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,Xt)}}},te=["onSubmit"],ee={class:"text-gray-900 text-lg font-medium"},se={class:"mt-1 text-sm text-gray-500 mb-2"},ae={setup(v){const i=k(),o=M("utils"),p=h(["customer","customerCustom","invoice","invoiceCustom","company"]),y=h(["billing","customer","customerCustom","invoiceCustom"]),u=h(["shipping","customer","customerCustom","invoiceCustom"]),a=h(["company","invoiceCustom"]);let m=h(!1);const e=T({invoice_mail_body:null,invoice_company_address_format:null,invoice_shipping_address_format:null,invoice_billing_address_format:null});o.mergeSettings(e,V({},i.selectedCompanySettings));async function r(){m.value=!0;let n={settings:V({},e)};return await i.updateCompanySettings({data:n,message:"settings.customization.invoices.invoice_settings_updated"}),m.value=!1,!0}return(n,l)=>{const g=c("BaseCustomInput"),B=c("BaseInputGroup"),C=c("BaseIcon"),z=c("BaseButton");return $(),D("form",{onSubmit:O(r,["prevent"])},[_("h6",ee,b(n.$t("settings.customization.invoices.default_formats")),1),_("p",se,b(n.$t("settings.customization.invoices.default_formats_description")),1),t(B,{label:n.$t("settings.customization.invoices.default_invoice_email_body"),class:"mt-6 mb-4"},{default:d(()=>[t(g,{modelValue:s(e).invoice_mail_body,"onUpdate:modelValue":l[0]||(l[0]=S=>s(e).invoice_mail_body=S),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.company_address_format"),class:"mt-6 mb-4"},{default:d(()=>[t(g,{modelValue:s(e).invoice_company_address_format,"onUpdate:modelValue":l[1]||(l[1]=S=>s(e).invoice_company_address_format=S),fields:a.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.shipping_address_format"),class:"mt-6 mb-4"},{default:d(()=>[t(g,{modelValue:s(e).invoice_shipping_address_format,"onUpdate:modelValue":l[2]||(l[2]=S=>s(e).invoice_shipping_address_format=S),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.invoices.billing_address_format"),class:"mt-6 mb-4"},{default:d(()=>[t(g,{modelValue:s(e).invoice_billing_address_format,"onUpdate:modelValue":l[3]||(l[3]=S=>s(e).invoice_billing_address_format=S),fields:y.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(z,{loading:s(m),disabled:s(m),variant:"primary",type:"submit",class:"mt-4"},{left:d(S=>[s(m)?A("",!0):($(),N(C,{key:0,class:G(S.class),name:"SaveIcon"},null,8,["class"]))]),default:d(()=>[E(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,te)}}},ne={class:"divide-y divide-gray-200"},ie={setup(v){const i=M("utils"),o=k(),p=T({invoice_email_attachment:null});i.mergeSettings(p,V({},o.selectedCompanySettings));const y=U({get:()=>p.invoice_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{invoice_email_attachment:a}};p.invoice_email_attachment=a,await o.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=c("BaseDivider"),e=c("BaseSwitchSection");return $(),D(q,null,[t(Lt),t(m,{class:"my-8"}),t(Zt),t(m,{class:"my-8"}),t(Pt),t(m,{class:"my-8"}),t(Ht),t(m,{class:"my-8"}),t(ae),t(m,{class:"mt-6 mb-2"}),_("ul",ne,[t(e,{modelValue:s(y),"onUpdate:modelValue":a[0]||(a[0]=r=>H(y)?y.value=r:null),title:u.$t("settings.customization.invoices.invoice_email_attachment"),description:u.$t("settings.customization.invoices.invoice_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},oe={setup(v){const i=gt();return(o,p)=>($(),N(tt,{type:"estimate","type-store":s(i),"default-series":"EST"},null,8,["type-store"]))}},le=["onSubmit"],me={class:"text-gray-900 text-lg font-medium"},ue={class:"mt-1 text-sm text-gray-500 mb-2"},de={class:"w-full sm:w-1/2 md:w-1/4 lg:w-1/5"},re={setup(v){const{t:i}=Y(),o=k(),p=M("utils");let y=h(!1);const u=T({estimate_set_expiry_date_automatically:null,estimate_expiry_date_days:null});p.mergeSettings(u,V({},o.selectedCompanySettings));const a=U({get:()=>u.estimate_set_expiry_date_automatically==="YES",set:async n=>{const l=n?"YES":"NO";u.estimate_set_expiry_date_automatically=l}}),m=U(()=>({expiryDateSettings:{estimate_expiry_date_days:{required:K.withMessage(i("validation.required"),nt(a.value)),numeric:K.withMessage(i("validation.numbers_only"),it)}}})),e=ot(m,{expiryDateSettings:u});async function r(){if(e.value.expiryDateSettings.$touch(),e.value.expiryDateSettings.$invalid)return!1;y.value=!0;let n={settings:V({},u)};return a.value||delete n.settings.estimate_expiry_date_days,await o.updateCompanySettings({data:n,message:"settings.customization.estimates.estimate_settings_updated"}),y.value=!1,!0}return(n,l)=>{const g=c("BaseSwitchSection"),B=c("BaseInput"),C=c("BaseInputGroup"),z=c("BaseIcon"),S=c("BaseButton");return $(),D("form",{onSubmit:O(r,["prevent"])},[_("h6",me,b(n.$t("settings.customization.estimates.expiry_date")),1),_("p",ue,b(n.$t("settings.customization.estimates.expiry_date_description")),1),t(g,{modelValue:s(a),"onUpdate:modelValue":l[0]||(l[0]=w=>H(a)?a.value=w:null),title:n.$t("settings.customization.estimates.set_expiry_date_automatically"),description:n.$t("settings.customization.estimates.set_expiry_date_automatically_description")},null,8,["modelValue","title","description"]),s(a)?($(),N(C,{key:0,label:n.$t("settings.customization.estimates.expiry_date_days"),error:s(e).expiryDateSettings.estimate_expiry_date_days.$error&&s(e).expiryDateSettings.estimate_expiry_date_days.$errors[0].$message,class:"mt-2 mb-4"},{default:d(()=>[_("div",de,[t(B,{modelValue:s(u).estimate_expiry_date_days,"onUpdate:modelValue":l[1]||(l[1]=w=>s(u).estimate_expiry_date_days=w),invalid:s(e).expiryDateSettings.estimate_expiry_date_days.$error,type:"number",onInput:l[2]||(l[2]=w=>s(e).expiryDateSettings.estimate_expiry_date_days.$touch())},null,8,["modelValue","invalid"])])]),_:1},8,["label","error"])):A("",!0),t(S,{loading:s(y),disabled:s(y),variant:"primary",type:"submit",class:"mt-4"},{left:d(w=>[s(y)?A("",!0):($(),N(z,{key:0,class:G(w.class),name:"SaveIcon"},null,8,["class"]))]),default:d(()=>[E(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,le)}}},ce=["onSubmit"],_e={class:"text-gray-900 text-lg font-medium"},pe={class:"mt-1 text-sm text-gray-500 mb-2"},ge={setup(v){const i=k(),o=M("utils"),p=h(["customer","customerCustom","estimate","estimateCustom","company"]),y=h(["billing","customer","customerCustom","estimateCustom"]),u=h(["shipping","customer","customerCustom","estimateCustom"]),a=h(["company","estimateCustom"]);let m=h(!1);const e=T({estimate_mail_body:null,estimate_company_address_format:null,estimate_shipping_address_format:null,estimate_billing_address_format:null});o.mergeSettings(e,V({},i.selectedCompanySettings));async function r(){m.value=!0;let n={settings:V({},e)};return await i.updateCompanySettings({data:n,message:"settings.customization.estimates.estimate_settings_updated"}),m.value=!1,!0}return(n,l)=>{const g=c("BaseCustomInput"),B=c("BaseInputGroup"),C=c("BaseIcon"),z=c("BaseButton");return $(),D("form",{onSubmit:O(r,["prevent"])},[_("h6",_e,b(n.$t("settings.customization.estimates.default_formats")),1),_("p",pe,b(n.$t("settings.customization.estimates.default_formats_description")),1),t(B,{label:n.$t("settings.customization.estimates.default_estimate_email_body"),class:"mt-6 mb-4"},{default:d(()=>[t(g,{modelValue:s(e).estimate_mail_body,"onUpdate:modelValue":l[0]||(l[0]=S=>s(e).estimate_mail_body=S),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.company_address_format"),class:"mt-6 mb-4"},{default:d(()=>[t(g,{modelValue:s(e).estimate_company_address_format,"onUpdate:modelValue":l[1]||(l[1]=S=>s(e).estimate_company_address_format=S),fields:a.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.shipping_address_format"),class:"mt-6 mb-4"},{default:d(()=>[t(g,{modelValue:s(e).estimate_shipping_address_format,"onUpdate:modelValue":l[2]||(l[2]=S=>s(e).estimate_shipping_address_format=S),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(B,{label:n.$t("settings.customization.estimates.billing_address_format"),class:"mt-6 mb-4"},{default:d(()=>[t(g,{modelValue:s(e).estimate_billing_address_format,"onUpdate:modelValue":l[3]||(l[3]=S=>s(e).estimate_billing_address_format=S),fields:y.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(z,{loading:s(m),disabled:s(m),variant:"primary",type:"submit",class:"mt-4"},{left:d(S=>[s(m)?A("",!0):($(),N(C,{key:0,class:G(S.class),name:"SaveIcon"},null,8,["class"]))]),default:d(()=>[E(" "+b(n.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,ce)}}},ye={class:"text-gray-900 text-lg font-medium"},fe={class:"mt-1 text-sm text-gray-500"},ve={setup(v){const{t:i,tm:o}=Y(),p=k(),y=J(),u=M("utils"),a=T({estimate_convert_action:null});u.mergeSettings(a,V({},p.selectedCompanySettings)),U(()=>y.config.estimate_convert_action.map(e=>(e.title=i(e.key),e)));async function m(){let e={settings:V({},a)};return await p.updateCompanySettings({data:e,message:"settings.customization.estimates.estimate_settings_updated"}),!0}return(e,r)=>{const n=c("BaseRadio"),l=c("BaseInputGroup");return $(),D(q,null,[_("h6",ye,b(e.$tc("settings.customization.estimates.convert_estimate_options")),1),_("p",fe,b(e.$t("settings.customization.estimates.convert_estimate_description")),1),t(l,{required:""},{default:d(()=>[t(n,{id:"no_action",modelValue:s(a).estimate_convert_action,"onUpdate:modelValue":[r[0]||(r[0]=g=>s(a).estimate_convert_action=g),m],label:e.$t("settings.customization.estimates.no_action"),size:"sm",name:"filter",value:"no_action",class:"mt-2"},null,8,["modelValue","label"]),t(n,{id:"delete_estimate",modelValue:s(a).estimate_convert_action,"onUpdate:modelValue":[r[1]||(r[1]=g=>s(a).estimate_convert_action=g),m],label:e.$t("settings.customization.estimates.delete_estimate"),size:"sm",name:"filter",value:"delete_estimate",class:"my-2"},null,8,["modelValue","label"]),t(n,{id:"mark_estimate_as_accepted",modelValue:s(a).estimate_convert_action,"onUpdate:modelValue":[r[2]||(r[2]=g=>s(a).estimate_convert_action=g),m],label:e.$t("settings.customization.estimates.mark_estimate_as_accepted"),size:"sm",name:"filter",value:"mark_estimate_as_accepted"},null,8,["modelValue","label"])]),_:1})],64)}}},be={class:"divide-y divide-gray-200"},Se={setup(v){const i=M("utils"),o=k(),p=T({estimate_email_attachment:null});i.mergeSettings(p,V({},o.selectedCompanySettings));const y=U({get:()=>p.estimate_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{estimate_email_attachment:a}};p.estimate_email_attachment=a,await o.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=c("BaseDivider"),e=c("BaseSwitchSection");return $(),D(q,null,[t(oe),t(m,{class:"my-8"}),t(re),t(m,{class:"my-8"}),t(ve),t(m,{class:"my-8"}),t(ge),t(m,{class:"mt-6 mb-2"}),_("ul",be,[t(e,{modelValue:s(y),"onUpdate:modelValue":a[0]||(a[0]=r=>H(y)?y.value=r:null),title:u.$t("settings.customization.estimates.estimate_email_attachment"),description:u.$t("settings.customization.estimates.estimate_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},$e={setup(v){const i=yt();return(o,p)=>($(),N(tt,{type:"payment","type-store":s(i),"default-series":"PAY"},null,8,["type-store"]))}},Be=["onSubmit"],ze={class:"text-gray-900 text-lg font-medium"},he={class:"mt-1 text-sm text-gray-500 mb-2"},Ve={setup(v){const i=k(),o=M("utils"),p=h(["customer","customerCustom","company","payment","paymentCustom"]),y=h(["billing","customer","customerCustom","paymentCustom"]),u=h(["company","paymentCustom"]);let a=h(!1);const m=T({payment_mail_body:null,payment_company_address_format:null,payment_from_customer_address_format:null});o.mergeSettings(m,V({},i.selectedCompanySettings));async function e(){a.value=!0;let r={settings:V({},m)};return await i.updateCompanySettings({data:r,message:"settings.customization.payments.payment_settings_updated"}),a.value=!1,!0}return(r,n)=>{const l=c("BaseCustomInput"),g=c("BaseInputGroup"),B=c("BaseIcon"),C=c("BaseButton");return $(),D("form",{onSubmit:O(e,["prevent"])},[_("h6",ze,b(r.$t("settings.customization.payments.default_formats")),1),_("p",he,b(r.$t("settings.customization.payments.default_formats_description")),1),t(g,{label:r.$t("settings.customization.payments.default_payment_email_body"),class:"mt-6 mb-4"},{default:d(()=>[t(l,{modelValue:s(m).payment_mail_body,"onUpdate:modelValue":n[0]||(n[0]=z=>s(m).payment_mail_body=z),fields:p.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(g,{label:r.$t("settings.customization.payments.company_address_format"),class:"mt-6 mb-4"},{default:d(()=>[t(l,{modelValue:s(m).payment_company_address_format,"onUpdate:modelValue":n[1]||(n[1]=z=>s(m).payment_company_address_format=z),fields:u.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(g,{label:r.$t("settings.customization.payments.from_customer_address_format"),class:"mt-6 mb-4"},{default:d(()=>[t(l,{modelValue:s(m).payment_from_customer_address_format,"onUpdate:modelValue":n[2]||(n[2]=z=>s(m).payment_from_customer_address_format=z),fields:y.value},null,8,["modelValue","fields"])]),_:1},8,["label"]),t(C,{loading:s(a),disabled:s(a),variant:"primary",type:"submit",class:"mt-4"},{left:d(z=>[s(a)?A("",!0):($(),N(B,{key:0,class:G(z.class),name:"SaveIcon"},null,8,["class"]))]),default:d(()=>[E(" "+b(r.$t("settings.customization.save")),1)]),_:1},8,["loading","disabled"])],40,Be)}}},Ie={class:"divide-y divide-gray-200"},xe={setup(v){const i=M("utils"),o=k(),p=T({payment_email_attachment:null});i.mergeSettings(p,V({},o.selectedCompanySettings));const y=U({get:()=>p.payment_email_attachment==="YES",set:async u=>{const a=u?"YES":"NO";let m={settings:{payment_email_attachment:a}};p.payment_email_attachment=a,await o.updateCompanySettings({data:m,message:"general.setting_updated"})}});return(u,a)=>{const m=c("BaseDivider"),e=c("BaseSwitchSection");return $(),D(q,null,[t($e),t(m,{class:"my-8"}),t(Ve),t(m,{class:"mt-6 mb-2"}),_("ul",Ie,[t(e,{modelValue:s(y),"onUpdate:modelValue":a[0]||(a[0]=r=>H(y)?y.value=r:null),title:u.$t("settings.customization.payments.payment_email_attachment"),description:u.$t("settings.customization.payments.payment_email_attachment_setting_description")},null,8,["modelValue","title","description"])])],64)}}},we={class:"flex flex-wrap justify-end mt-2 lg:flex-nowrap"},Ce={class:"inline-block"},De={setup(v){const{t:i}=Y(),o=h(null),p=ft(),y=vt(),u=bt(),a=U(()=>[{key:"name",label:i("settings.customization.items.unit_name"),thClass:"extra",tdClass:"font-medium text-gray-900"},{key:"actions",label:"",tdClass:"text-right text-sm font-medium",sortable:!1}]);async function m({page:l,filter:g,sort:B}){let C={orderByField:B.fieldName||"created_at",orderBy:B.order||"desc",page:l},z=await p.fetchItemUnits(C);return{data:z.data.data,pagination:{totalPages:z.data.meta.last_page,currentPage:l,totalCount:z.data.meta.total,limit:5}}}async function e(){y.openModal({title:i("settings.customization.items.add_item_unit"),componentName:"ItemUnitModal",refreshData:o.value.refresh,size:"sm"})}async function r(l){p.fetchItemUnit(l.data.id),y.openModal({title:i("settings.customization.items.edit_item_unit"),componentName:"ItemUnitModal",id:l.data.id,data:l.data,refreshData:o.value&&o.value.refresh})}function n(l){u.openDialog({title:i("general.are_you_sure"),message:i("settings.customization.items.item_unit_confirm_delete"),yesLabel:i("general.yes"),noLabel:i("general.no"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async g=>{g&&(await p.deleteItemUnit(l.data.id),o.value&&o.value.refresh())})}return(l,g)=>{const B=c("BaseIcon"),C=c("BaseButton"),z=c("BaseDropdownItem"),S=c("BaseDropdown"),w=c("BaseTable");return $(),D(q,null,[t(Vt),_("div",we,[t(C,{variant:"primary-outline",onClick:e},{left:d(F=>[t(B,{class:G(F.class),name:"PlusIcon"},null,8,["class"])]),default:d(()=>[E(" "+b(l.$t("settings.customization.items.add_item_unit")),1)]),_:1})]),t(w,{ref:(F,j)=>{j.table=F,o.value=F},class:"mt-10",data:m,columns:s(a)},{"cell-actions":d(({row:F})=>[t(S,null,{activator:d(()=>[_("div",Ce,[t(B,{name:"DotsHorizontalIcon",class:"text-gray-500"})])]),default:d(()=>[t(z,{onClick:j=>r(F)},{default:d(()=>[t(B,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),E(" "+b(l.$t("general.edit")),1)]),_:2},1032,["onClick"]),t(z,{onClick:j=>n(F)},{default:d(()=>[t(B,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),E(" "+b(l.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["columns"])],64)}}},Ue={class:"relative"},Te={setup(v){return(i,o)=>{const p=c("BaseTab"),y=c("BaseTabGroup"),u=c("BaseCard");return $(),D("div",Ue,[t(u,{"container-class":"px-4 py-5 sm:px-8 sm:py-2"},{default:d(()=>[t(y,null,{default:d(()=>[t(p,{"tab-panel-container":"py-4 mt-px",title:i.$t("settings.customization.invoices.title")},{default:d(()=>[t(ie)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:i.$t("settings.customization.estimates.title")},{default:d(()=>[t(Se)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:i.$t("settings.customization.payments.title")},{default:d(()=>[t(xe)]),_:1},8,["title"]),t(p,{"tab-panel-container":"py-4 mt-px",title:i.$t("settings.customization.items.title")},{default:d(()=>[t(De)]),_:1},8,["title"])]),_:1})]),_:1})])}}};export{Te as default};
